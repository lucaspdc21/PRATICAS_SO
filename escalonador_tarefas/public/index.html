<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Simulador de Escalonamento de SO</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Simulador de Escalonamento</h1>
    
    <div class="form-container">
        <h3>Adicionar Processo</h3>
        <form id="addProcessForm" class="process-form">
            <div class="form-group">
                <label for="p_id">ID (ex: P1):</label>
                <input type="text" id="p_id" required>
            </div>
            <div class="form-group">
                <label for="p_arrival">Chegada:</label>
                <input type="number" id="p_arrival" value="0" min="0" required>
            </div>
            <div class="form-group">
                <label for="p_duration">Duração (Burst):</label>
                <input type="number" id="p_duration" value="5" min="1" required>
            </div>
            <div class="form-group">
                <label for="p_priority">Prioridade:</label>
                <input type="number" id="p_priority" value="1" min="0" required>
            </div>
            <button type="submit" id="addProcessBtn">Adicionar Processo</button>
        </form>
        
        <table id="processInputTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Chegada</th>
                    <th>Duração</th>
                    <th>Prioridade</th>
                    <th>Ação</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>
    </div>

    <div class="form-container">
        <h3>Configurar Simulação</h3>
        <form id="simForm" class="config-form">
            <div class="form-group">
                <label for="algorithm">Algoritmo:</label>
                <select id="algorithm" name="algorithm">
                    <option value="FCFS">FCFS</option>
                    <option value="SJF">SJF</option>
                    <option value="SRTF">SRTF</option>
                    <option value="PRIOC">Prioridade (Cooperativo)</option>
                    <option value="PRIOP">Prioridade (Preemptivo)</option>
                    <option value="Round Robin">Round Robin</option>
                </select>
            </div>
            
            <div class="form-group" id="quantum-group">
                <label for="quantum">Quantum (Round Robin):</label>
                <input type="number" id="quantum" name="quantum" value="2" min="1">
            </div>

            <div class="form-group" id="aging-group">
                <label for="aging">Aging (RR Dinâmico):</label>
                <input type="number" id="aging" name="aging" value="0" min="0">
                <small>Se > 0, usa RR com prioridade e aging.</small>
            </div>
            
            <button type="submit" id="simulateBtn">Simular</button>
        </form>
    </div>


    <div id="simulationResults" style="display:none;">
        <h2>Resultados da Simulação</h2>
        <div id="generalResults"></div>

        <h2>Timeline (Gráfico de Execução)</h2>
        <div id="ganttChartWrapper">
            <div id="ganttChart"></div>
        </div>

        <h2>Detalhes dos Processos</h2>
        <table id="processesTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Turnaround</th>
                    <th>Waiting Time</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>

        <h3>JSON Bruto</h3>
        <pre id="resultOutput">Aguardando simulação...</pre>
    </div>

    <div id="ganttTooltip"></div>

    <script src="script.js"></script>
</body>
</html>